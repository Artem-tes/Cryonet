<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DarkSocial - Социальная сеть</title>
    <style>
        :root {
            --bg-dark: #121212;
            --bg-darker: #0a0a0a;
            --bg-light: #1e1e1e;
            --accent-color: #4a76a8;
            --text-primary: #e1e1e1;
            --text-secondary: #b0b0b0;
            --border-color: #2d2d2d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-primary);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            display: flex;
            width: 100%;
            max-width: 1200px;
            min-height: 100vh;
        }

        /* Левая панель - меню */
        .left-sidebar {
            width: 80px;
            background-color: var(--bg-darker);
            padding: 20px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            border-right: 1px solid var(--border-color);
        }

        .menu-item {
            width: 100%;
            padding: 15px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            color: var(--text-secondary);
            transition: all 0.2s;
        }

        .menu-item:hover {
            background-color: var(--bg-light);
            color: var(--text-primary);
        }

        .menu-item.active {
            color: var(--accent-color);
        }

        .menu-item i {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .menu-item span {
            font-size: 12px;
        }

        /* Основное содержимое */
        .main-content {
            flex: 1;
            display: flex;
        }

        /* Центральная колонка - новости */
        .news-feed {
            flex: 1;
            max-width: 600px;
            padding: 20px;
            border-right: 1px solid var(--border-color);
        }

        .post {
            background-color: var(--bg-light);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .post-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .post-author {
            font-weight: 500;
        }

        .post-time {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 2px;
        }

        .post-content {
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .post-image {
            width: 100%;
            border-radius: 8px;
            margin-bottom: 15px;
            background-color: var(--bg-darker);
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
        }

        .post-actions {
            display: flex;
            border-top: 1px solid var(--border-color);
            padding-top: 10px;
        }

        .post-action {
            display: flex;
            align-items: center;
            margin-right: 20px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: color 0.2s;
        }

        .post-action:hover {
            color: var(--accent-color);
        }

        .post-action i {
            margin-right: 5px;
        }

        /* Правая колонка - чаты и друзья */
        .right-sidebar {
            width: 350px;
            padding: 20px;
            background-color: var(--bg-darker);
        }

        .sidebar-section {
            margin-bottom: 30px;
        }

        .sidebar-title {
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sidebar-title a {
            color: var(--accent-color);
            font-size: 12px;
            text-decoration: none;
        }

        .chat-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-bottom: 5px;
        }

        .chat-item:hover {
            background-color: var(--bg-light);
        }

        .chat-item.active {
            background-color: var(--bg-light);
        }

        .chat-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
            background-color: #4a76a8;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .chat-info {
            flex: 1;
        }

        .chat-name {
            font-weight: 500;
            margin-bottom: 3px;
        }

        .chat-last-message {
            font-size: 12px;
            color: var(--text-secondary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 200px;
        }

        .chat-time {
            font-size: 10px;
            color: var(--text-secondary);
            align-self: flex-start;
        }

        .friend-item {
            display: flex;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .friend-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            margin-right: 10px;
            background-color: #4a76a8;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .friend-name {
            font-size: 14px;
        }

        .friend-status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #4caf50;
            margin-left: auto;
        }

        /* Верхняя панель */
        .top-bar {
            height: 60px;
            background-color: var(--bg-light);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            padding: 0 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            width: 100%;
            max-width: 1200px;
        }

        .search-bar {
            flex: 1;
            max-width: 500px;
            margin: 0 20px;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 20px;
            border: none;
            background-color: var(--bg-dark);
            color: var(--text-primary);
            outline: none;
        }

        .user-menu {
            display: flex;
            align-items: center;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            margin-right: 10px;
            background-color: #4a76a8;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        /* Модальное окно чата */
        .chat-modal {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            background-color: var(--bg-light);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: none;
            flex-direction: column;
            z-index: 1000;
        }

        .chat-modal.active {
            display: flex;
        }

        .chat-header {
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-close {
            cursor: pointer;
            color: var(--text-secondary);
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            max-height: 300px;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
        }

        .message-incoming {
            justify-content: flex-start;
        }

        .message-outgoing {
            justify-content: flex-end;
        }

        .message-bubble {
            max-width: 70%;
            padding: 10px 15px;
            border-radius: 18px;
            line-height: 1.4;
        }

        .message-incoming .message-bubble {
            background-color: var(--bg-dark);
            border-top-left-radius: 0;
        }

        .message-outgoing .message-bubble {
            background-color: var(--accent-color);
            color: white;
            border-top-right-radius: 0;
        }

        .chat-input {
            padding: 15px;
            border-top: 1px solid var(--border-color);
        }

        .message-input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 20px;
            border: none;
            background-color: var(--bg-dark);
            color: var(--text-primary);
            outline: none;
            resize: none;
        }

        /* Новый пост */
        .new-post {
            background-color: var(--bg-light);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .new-post-input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 20px;
            border: none;
            background-color: var(--bg-dark);
            color: var(--text-primary);
            outline: none;
            resize: none;
            margin-bottom: 10px;
        }

        .new-post-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .new-post-attachments {
            display: flex;
        }

        .attachment-button {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            margin-right: 15px;
            font-size: 20px;
        }

        .post-button {
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 8px 20px;
            cursor: pointer;
            font-weight: 500;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
<div class="top-bar">
    <div class="logo">
        <h2>DarkSocial</h2>
    </div>
    <div class="search-bar">
        <input type="text" class="search-input" placeholder="Поиск">
    </div>
    <div class="user-menu">
        <div class="user-avatar">Я</div>
    </div>
</div>

<div class="container">
    <div class="left-sidebar">
        <div class="menu-item active">
            <i class="fas fa-home"></i>
            <span>Главная</span>
        </div>
        <div class="menu-item">
            <i class="fas fa-user-friends"></i>
            <span>Друзья</span>
        </div>
        <div class="menu-item">
            <i class="fas fa-comment-alt"></i>
            <span>Сообщения</span>
        </div>
        <div class="menu-item">
            <i class="fas fa-bell"></i>
            <span>Уведомления</span>
        </div>
        <div class="menu-item">
            <i class="fas fa-music"></i>
            <span>Музыка</span>
        </div>
        <div class="menu-item">
            <i class="fas fa-cog"></i>
            <span>Настройки</span>
        </div>
    </div>

    <div class="main-content">
        <div class="news-feed">
            <div class="new-post">
                <textarea class="new-post-input" placeholder="Что у вас нового?"></textarea>
                <div class="new-post-actions">
                    <div class="new-post-attachments">
                        <button class="attachment-button"><i class="fas fa-camera"></i></button>
                        <button class="attachment-button"><i class="fas fa-video"></i></button>
                        <button class="attachment-button"><i class="fas fa-music"></i></button>
                        <button class="attachment-button"><i class="fas fa-file"></i></button>
                    </div>
                    <button class="post-button">Опубликовать</button>
                </div>
            </div>
            <!-- Posts will be dynamically added here -->
        </div>

        <div class="right-sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">
                    <span>Мои чаты</span>
                    <a href="#">Все</a>
                </div>
                <!-- Chat items will be dynamically added here -->
            </div>

            <div class="sidebar-section">
                <div class="sidebar-title">
                    <span>Друзья онлайн</span>
                    <a href="#">Все</a>
                </div>
                <!-- Friend items will be dynamically added here -->
            </div>
        </div>
    </div>
</div>

<div class="chat-modal" id="chatModal">
    <div class="chat-header">
        <div class="chat-title"></div>
        <div class="chat-close"><i class="fas fa-times"></i></div>
    </div>
    <div class="chat-messages">
        <!-- Messages will be dynamically added here -->
    </div>
    <div class="chat-input">
        <textarea class="message-input" placeholder="Напишите сообщение..."></textarea>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Навигация по меню
        const menuItems = document.querySelectorAll('.menu-item');
        menuItems.forEach(item => {
            item.addEventListener('click', function() {
                menuItems.forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                const menuText = this.querySelector('span').textContent;
                console.log('Выбран пункт меню:', menuText);
            });
        });

        // Открытие чата
        const chatModal = document.getElementById('chatModal');
        const chatClose = document.querySelector('.chat-close');

        chatClose.addEventListener('click', function() {
            chatModal.classList.remove('active');
        });

        // Отправка нового поста
        const postButton = document.querySelector('.post-button');
        const postInput = document.querySelector('.new-post-input');

        postButton.addEventListener('click', function() {
            const postText = postInput.value.trim();

            if (postText) {
                console.log('Отправлен новый пост:', postText);
                createNewPost(postText);
                postInput.value = '';
            }
        });

        // Функция создания нового поста
        function createNewPost(text) {
            const newsFeed = document.querySelector('.news-feed');
            const newPost = document.createElement('div');
            newPost.className = 'post';
            newPost.innerHTML = `
                <div class="post-header">
                    <div class="post-avatar">Я</div>
                    <div>
                        <div class="post-author">Вы</div>
                        <div class="post-time">только что</div>
                    </div>
                </div>
                <div class="post-content">${text}</div>
                <div class="post-actions">
                    <div class="post-action like">
                        <i class="far fa-thumbs-up"></i>
                        <span>Нравится</span>
                    </div>
                    <div class="post-action comment">
                        <i class="far fa-comment"></i>
                        <span>Комментировать</span>
                    </div>
                    <div class="post-action share">
                        <i class="fas fa-share"></i>
                        <span>Поделиться</span>
                    </div>
                </div>
            `;

            newsFeed.insertBefore(newPost, newsFeed.children[1]);

            newPost.querySelector('.post-action.like').addEventListener('click', function() {
                const icon = this.querySelector('i');
                const text = this.querySelector('span');

                if (icon.classList.contains('far')) {
                    icon.classList.remove('far');
                    icon.classList.add('fas');
                    text.textContent = 'Вам нравится';
                } else {
                    icon.classList.remove('fas');
                    icon.classList.add('far');
                    text.textContent = 'Нравится';
                }
            });
        }

        // Загрузка постов с сервера
        async function fetchPosts() {
            try {
                const response = await fetch('/api/posts'); // Замените на реальный URL API
                const posts = await response.json();

                const newsFeed = document.querySelector('.news-feed');
                posts.forEach(post => {
                    const postElement = document.createElement('div');
                    postElement.className = 'post';
                    postElement.innerHTML = `
                        <div class="post-header">
                            <div class="post-avatar">${post.authorInitials || 'А'}</div>
                            <div>
                                <div class="post-author">${post.author || 'Пользователь'}</div>
                                <div class="post-time">${post.time || 'недавно'}</div>
                            </div>
                        </div>
                        <div class="post-content">${post.content || ''}</div>
                        ${post.image ? `<div class="post-image"><img src="${post.image}" alt="Post image"></div>` : ''}
                        <div class="post-actions">
                            <div class="post-action like">
                                <i class="far fa-thumbs-up"></i>
                                <span>Нравится</span>
                            </div>
                            <div class="post-action comment">
                                <i class="far fa-comment"></i>
                                <span>Комментировать</span>
                            </div>
                            <div class="post-action share">
                                <i class="fas fa-share"></i>
                                <span>Поделиться</span>
                            </div>
                        </div>
                    `;
                    newsFeed.appendChild(postElement);

                    postElement.querySelector('.post-action.like').addEventListener('click', function() {
                        const icon = this.querySelector('i');
                        const text = this.querySelector('span');

                        if (icon.classList.contains('far')) {
                            icon.classList.remove('far');
                            icon.classList.add('fas');
                            text.textContent = 'Вам нравится';
                        } else {
                            icon.classList.remove('fas');
                            icon.classList.add('far');
                            text.textContent = 'Нравится';
                        }
                    });
                });
            } catch (error) {
                console.error('Ошибка при загрузке постов:', error);
            }
        }

        // Загрузка чатов (заглушка для будущего API)
        async function fetchChats() {
            try {
                const response = await fetch('/api/chats'); // Замените на реальный URL API
                const chats = await response.json();
                const chatSection = document.querySelector('.sidebar-section');

                chats.forEach(chat => {
                    const chatItem = document.createElement('div');
                    chatItem.className = 'chat-item';
                    chatItem.setAttribute('data-chat', chat.id);
                    chatItem.innerHTML = `
                        <div class="chat-avatar">${chat.initials || 'Ч'}</div>
                        <div class="chat-info">
                            <div class="chat-name">${chat.name || 'Чат'}</div>
                            <div class="chat-last-message">${chat.lastMessage || ''}</div>
                        </div>
                        <div class="chat-time">${chat.time || ''}</div>
                    `;
                    chatSection.appendChild(chatItem);

                    chatItem.addEventListener('click', function() {
                        document.querySelectorAll('.chat-item').forEach(i => i.classList.remove('active'));
                        this.classList.add('active');
                        chatModal.classList.add('active');
                        document.querySelector('.chat-title').textContent = chat.name || 'Чат';
                        // Здесь можно добавить загрузку сообщений для чата
                        console.log('Открыт чат с ID:', chat.id);
                    });
                });
            } catch (error) {
                console.error('Ошибка при загрузке чатов:', error);
            }
        }

        // Загрузка сообщений (заглушка для будущего API)
        async function fetchMessages(chatId) {
            try {
                const response = await fetch(`/api/chats/${chatId}/messages`); // Замените на реальный URL API
                const messages = await response.json();
                const chatMessages = document.querySelector('.chat-messages');
                chatMessages.innerHTML = '';

                messages.forEach(message => {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = `message message-${message.isOutgoing ? 'outgoing' : 'incoming'}`;
                    messageDiv.innerHTML = `
                        <div class="message-bubble">${message.text || ''}</div>
                    `;
                    chatMessages.appendChild(messageDiv);
                });
                chatMessages.scrollTop = chatMessages.scrollHeight;
            } catch (error) {
                console.error('Ошибка при загрузке сообщений:', error);
            }
        }

        // Отправка сообщения
        const messageInput = document.querySelector('.message-input');
        messageInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                const messageText = this.value.trim();

                if (messageText) {
                    console.log('Отправлено сообщение:', messageText);
                    this.value = '';
                    // Здесь можно добавить отправку сообщения на сервер
                }
            }
        });

        // Инициализация загрузки данных
        fetchPosts();
        fetchChats();
    });
</script>
</body>
</html>